{"version":3,"sources":["../node_modules/@tilecloud/mbgl-tilecloud-control/dist/mbgl-tilecloud-control.js","app.js"],"names":["req","XMLHttpRequest","onreadystatechange","document","getElementById","readyState","status","styles","JSON","parse","responseText","map","mapboxgl","Map","addControl","NavigationControl","GeolocateControl","TileCloudControl","menu","querySelector","forEach","option","createElement","value","element","innerText","appendChild","addEventListener","event","target","setStyle","open","send"],"mappings":";AAAA,IAAA,EAAA,aAAA,EAAA,UAAA,MAAA,WAAA,KAAA,UAAA,SAAA,cAAA,OAAA,KAAA,UAAA,UAAA,gBAAA,IAAA,EAAA,SAAA,cAAA,OAAA,EAAA,IAAA,yDAAA,EAAA,MAAA,MAAA,OAAA,EAAA,MAAA,OAAA,OAAA,EAAA,MAAA,QAAA,QAAA,EAAA,MAAA,OAAA,UAAA,EAAA,IAAA,YAAA,IAAA,EAAA,SAAA,cAAA,KAAA,OAAA,EAAA,KAAA,wBAAA,EAAA,YAAA,GAAA,EAAA,MAAA,0BAAA,KAAA,UAAA,YAAA,GAAA,KAAA,WAAA,EAAA,UAAA,SAAA,WAAA,KAAA,UAAA,WAAA,YAAA,KAAA,YAAA,EAAA,UAAA,mBAAA,WAAA,MAAA,eAAA,OAAA,QAAA;;ACqCA,aArCA,IAAA,EAAA,QAAA,qCAqCA,EAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnCA,IAAMA,EAAM,IAAIC,eAEhBD,EAAIE,mBAAqB,WACRC,SAASC,eAAe,UACnCJ,GAAkB,GAAlBA,EAAIK,YAAiC,KAAdL,EAAIM,OAAe,CACtCC,IAAAA,EAASC,KAAKC,MAAMT,EAAIU,cACxBC,EAAM,IAAIC,SAASC,IAAI,CAChB,UAAA,MACCN,MAAAA,KAAAA,EAAO,GAFQ,cAGP,oBAAA,EACd,MAAA,EACoB,yBAAA,eAGxBO,EAAAA,WAAW,IAAIF,SAASG,mBACxBD,EAAAA,WAAW,IAAIF,SAASI,kBACxBF,EAAAA,WAAW,IAAIG,EAAJ,SAETC,IAAAA,EAAOf,SAASgB,cAAc,SAE7BC,EAAAA,QAAQ,SAAW,GAClBC,IAAAA,EAASlB,SAASmB,cAAc,UAC/BC,EAAAA,MAAQC,EACRC,EAAAA,UAAYD,EACdE,EAAAA,YAAYL,KAGdM,EAAAA,iBAAiB,SAAU,SAAS,GACjCJ,IAAAA,EAAQK,EAAMC,OAAON,MACvBO,EAAAA,SAAcP,KAAAA,EAAlB,mBAKNvB,EAAI+B,KAAK,MAAO,iBAAiB,GACjC/B,EAAIgC,KAAK","file":"app.8e461e66.map","sourceRoot":"src","sourcesContent":["var t=function(){};t.prototype.onAdd=function(){this.container=document.createElement(\"div\"),this.container.className=\"mapboxgl-ctrl\";var t=document.createElement(\"img\");t.src=\"https://tilecloud.github.io/logo/tilecloud-256x256.png\",t.style.width=\"16px\",t.style.height=\"16px\",t.style.display=\"block\",t.style.cursor=\"pointer\",t.alt=\"TileCloud\";var e=document.createElement(\"a\");return e.href=\"https://tilecloud.io/\",e.appendChild(t),e.title=\"自由な地図のための地図専用ホスティングサービス\",this.container.appendChild(e),this.container},t.prototype.onRemove=function(){this.container.parentNode.removeChild(this.container)},t.prototype.getDefaultPosition=function(){return\"bottom-left\"},module.exports=t;\n//# sourceMappingURL=mbgl-tilecloud-control.js.map\n","import TileCloudControl from '@tilecloud/mbgl-tilecloud-control'\n\nconst req = new XMLHttpRequest();\n\nreq.onreadystatechange = () => {\n  const result = document.getElementById('result');\n  if (req.readyState == 4 && req.status == 200) {\n    const styles = JSON.parse(req.responseText)\n    const map = new mapboxgl.Map({\n      container: 'map',\n      style: `./${styles[0]}/style.json`,\n      attributionControl: true,\n      hash: true,\n      localIdeographFontFamily: \"sans-serif\"\n    });\n\n    map.addControl(new mapboxgl.NavigationControl());\n    map.addControl(new mapboxgl.GeolocateControl());\n    map.addControl(new TileCloudControl());\n\n    const menu = document.querySelector('#menu')\n\n    styles.forEach(element => {\n      const option = document.createElement('option')\n      option.value = element\n      option.innerText = element\n      menu.appendChild(option)\n    });\n\n    menu.addEventListener('change', event => {\n      const value = event.target.value\n      map.setStyle(`./${value}/style.json`);\n    })\n  }\n}\n\nreq.open('GET', \"./styles.json\", true);\nreq.send(null);\n"]}